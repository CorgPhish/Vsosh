# Руководство по установке и запуску CorgPhish

Это руководство поможет вам установить, настроить и запустить проект CorgPhish как для разработки, так и для использования.

## Содержание

1. [Системные требования](#системные-требования)
2. [Установка](#установка)
3. [Сборка проекта](#сборка-проекта)
4. [Установка расширения в браузер](#установка-расширения-в-браузер)
5. [Запуск демонстрационной среды](#запуск-демонстрационной-среды)
6. [Обучение собственной модели](#обучение-собственной-модели)
7. [Устранение неполадок](#устранение-неполадок)

## Системные требования

### Для разработки

- **Python**: 3.8 или выше
- **Node.js**: 14.0 или выше
- **Git**: актуальная версия
- **Браузеры**: Chrome (80+) или Firefox (70+)
- **Оперативная память**: минимум 4 ГБ (рекомендуется 8 ГБ для обучения моделей)

### Для использования расширения

- **Chrome**: версия 80 или выше
- **Firefox**: версия 70 или выше
- **Opera/Edge**: последние версии

## Установка

### 1. Клонирование репозитория

```bash
git clone https://github.com/username/corgphish.git
cd corgphish
```

### 2. Создание виртуального окружения Python (рекомендуется)

```bash
# Создание виртуального окружения
python -m venv venv

# Активация виртуального окружения
# Windows
venv\Scripts\activate
# macOS/Linux
source venv/bin/activate
```

### 3. Установка зависимостей Python

```bash
pip install -r requirements.txt
```

### 4. Установка JavaScript зависимостей (если требуется)

```bash
cd src/extension
npm install
cd ../..
```

## Сборка проекта

### Полная сборка

Чтобы собрать все компоненты проекта, включая расширение и модели:

```bash
python build.py
```

Этот скрипт выполнит следующие действия:
- Соберет расширение и скопирует все необходимые файлы в `dist/browser_extension`
- Экспортирует модель машинного обучения в формат JavaScript
- Подготовит демонстрационное окружение

### Сборка только расширения

Если вы хотите собрать только расширение без обновления модели:

```bash
python build.py --skip-model
```

### Настройка сборки

Вы можете настроить процесс сборки, отредактировав файл `build.config.json` в корне проекта.

## Установка расширения в браузер

### Chrome

1. Откройте страницу `chrome://extensions/`
2. Включите "Режим разработчика" (переключатель в правом верхнем углу)
3. Нажмите кнопку "Загрузить распакованное расширение"
4. Выберите директорию `dist/browser_extension`

### Firefox

1. Откройте страницу `about:debugging#/runtime/this-firefox`
2. Нажмите "Загрузить временное дополнение"
3. Выберите файл `manifest.json` в директории `dist/browser_extension`

### Edge

1. Откройте страницу `edge://extensions/`
2. Включите "Режим разработчика" 
3. Нажмите "Загрузить распакованное"
4. Выберите директорию `dist/browser_extension`

## Запуск демонстрационной среды

Демонстрационная среда включает локальный веб-сервер и примеры фишинговых сайтов для тестирования расширения.

### Запуск демо-сервера

```bash
cd phishing_demo
bash run_demo.sh
```

После запуска демо-сервер будет доступен по адресу: `http://localhost:3000`

### Остановка демо-сервера

```bash
bash stop_demo.sh
```

### Просмотр логов демо-сервера

```bash
tail -f phishing_demo.log
```

## Обучение собственной модели

Если вы хотите обучить модель на своих данных, выполните следующие шаги:

### 1. Подготовка данных

Подготовьте два файла:
- `phishing_urls.txt` - список URL фишинговых сайтов (по одному URL на строку)
- `legitimate_urls.txt` - список URL легитимных сайтов (по одному URL на строку)

### 2. Создание датасета

```bash
python src/model/prepare_dataset.py \
    --phishing-urls phishing_urls.txt \
    --legitimate-urls legitimate_urls.txt \
    --output dataset.csv
```

### 3. Обучение модели

```bash
python src/model/train_model.py \
    --dataset dataset.csv \
    --output-model models/my_model.pkl \
    --test-size 0.2
```

### 4. Экспорт модели для использования в расширении

```bash
python src/model/export_model.py \
    --input-model models/my_model.pkl \
    --output-js src/extension/js/models/model.js
```

### 5. Сборка расширения с новой моделью

```bash
python build.py
```

## Устранение неполадок

### Проблемы с Python-зависимостями

Если у вас возникают проблемы с установкой зависимостей:

```bash
pip install --upgrade pip
pip install -r requirements.txt --force-reinstall
```

### Проблемы с запуском демо-сервера

Если демо-сервер не запускается из-за занятого порта:

```bash
# Проверка процессов, использующих порт 3000
lsof -i :3000    # macOS/Linux
netstat -ano | findstr :3000   # Windows

# Остановка сервера принудительно
bash stop_demo.sh --force
```

### Проблемы с расширением в браузере

Если расширение не работает корректно:

1. Проверьте консоль разработчика браузера на наличие ошибок
2. Убедитесь, что расширение активировано на странице
3. Попробуйте перезагрузить расширение:
   - Chrome: перейдите на страницу расширений и нажмите кнопку перезагрузки
   - Firefox: переустановите временное дополнение

### Диагностика ошибок сборки

Если сборка проекта завершается с ошибкой:

```bash
python build.py --verbose
```

Это выведет подробную информацию о процессе сборки, что поможет диагностировать проблему.

## Дополнительная информация

Для получения дополнительной информации обратитесь к следующим документам:

- [Полная документация проекта](PROJECT_DOCUMENTATION.md)
- [Руководство разработчика](guides/DEVELOPER_GUIDE.md)
- [Руководство пользователя](guides/USER_GUIDE.md)

Если у вас остались вопросы или проблемы, пожалуйста, создайте issue в [GitHub репозитории](https://github.com/username/corgphish/issues). 