# Инструкция по тестированию расширения CorgPhish на демонстрационных сайтах

## Подготовка окружения

### 1. Сборка расширения

Прежде всего, необходимо собрать расширение:

```bash
python3 build.py
```

### 2. Запуск демонстрационного сервера

Запустите демонстрационный сервер с тестовыми фишинговыми сайтами:

```bash
cd phishing_demo
chmod +x run_demo.sh
./run_demo.sh
```

Сервер будет доступен по адресу: http://localhost:3000

> **Примечание:** Демонстрационный сервер теперь использует встроенный в Python HTTP-сервер и не требует установки Node.js!

## Установка расширения в Chrome

1. Откройте Chrome и перейдите по адресу: `chrome://extensions/`
2. Включите "Режим разработчика" (переключатель в правом верхнем углу)
3. Нажмите "Загрузить распакованное расширение"
4. Выберите директорию `dist/browser_extension`

## Проверка работы расширения

### Способ 1: Через домашнюю страницу демо-сервера

1. Перейдите по адресу: http://localhost:3000
2. На странице будет список доступных демонстрационных сайтов
3. Нажмите на ссылку любого демо-сайта (например, "Bank Phish")
4. Расширение должно обнаружить фишинговый сайт и показать предупреждение

### Способ 2: Прямой доступ к демо-сайтам

Вы можете напрямую перейти к демонстрационным сайтам:

1. Банковский фишинг: http://localhost:3000/bank-phish/index.html
2. Криптовалютный фишинг: http://localhost:3000/crypto-phish/index.html
3. Фишинг электронной почты: http://localhost:3000/email-login/index.html

## Проверка функциональности

### Проверка корректности обнаружения

Расширение должно:

1. Обнаружить фишинговый сайт и показать предупреждающую страницу
2. На предупреждающей странице должна быть следующая информация:
   - Заголовок предупреждения
   - Причины блокировки сайта
   - Шкала риска
   - Кнопки "Вернуться в безопасное место" и "Игнорировать предупреждение"
   - Индикатор демо-режима (если он включен)

### Тестирование демо-режима

В файле `src/extension/js/service-worker.js` демо-режим включен по умолчанию (переменная `DEMO_MODE = true`). Это означает, что:

1. Все проверки через Google Safe Browsing API всегда будут возвращать "опасный" результат
2. На странице предупреждения будет отображаться индикатор демо-режима

### Проверка игнорирования предупреждений

1. При появлении предупреждающей страницы нажмите "Игнорировать предупреждение"
2. Вы должны попасть на демонстрационный фишинговый сайт
3. Проверьте, что при повторном посещении этого сайта предупреждение снова появляется

## Проверка логирования

Информация о работе расширения записывается в консоль. Чтобы проверить логи:

1. На странице расширения (`chrome://extensions/`) найдите CorgPhish
2. Нажмите на ссылку "фоновая страница" (или "service worker")
3. В открывшейся консоли разработчика просмотрите логи

## Особенности демонстрационных сайтов

### Банковский фишинг (bank-phish)

- Имитирует страницу входа в онлайн-банк
- Содержит формы для ввода логина и пароля
- Имеет фирменные цвета, имитирующие настоящий банк

### Криптовалютный фишинг (crypto-phish)

- Имитирует криптовалютную биржу
- Запрашивает ключи кошелька или другие конфиденциальные данные
- Содержит элементы, имитирующие популярные криптобиржи

### Фишинг электронной почты (email-login)

- Имитирует страницу входа в почтовый сервис
- Запрашивает учетные данные электронной почты
- Имеет дизайн, похожий на популярные почтовые сервисы

## Решение проблем

### Расширение не обнаруживает фишинговые сайты

1. Убедитесь, что демо-режим включен в `service-worker.js` (`DEMO_MODE = true`)
2. Проверьте, что расширение было правильно установлено и активировано
3. Перезагрузите расширение на странице `chrome://extensions/`

### Демо-сервер не запускается

1. Убедитесь, что установлен Python 3 (проверьте командой `python3 --version`)
2. Проверьте, что порт 3000 не занят другими приложениями
3. Просмотрите логи в файле `phishing_demo.log`

### Проблемы с путями к файлам

Если ссылки на сайты не работают, убедитесь, что вы:
1. Запустили скрипт `run_demo.sh` из директории `phishing_demo`
2. Не изменяли структуру папок демонстрационных сайтов

---

<p align="center">CorgPhish — Безопасный интернет для всех</p> 